(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{1230:function(module,exports,__webpack_require__){(module.exports=__webpack_require__(577)(!1)).push([module.i,".myNavButtons{\r\n\t\r\n}",""])},220:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",function(){return Button});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(0),react__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__),semantic_ui_react__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(126);function Button(props){console.log(props);var buttonProps=Object.assign({color:"yellow",onClick:function(){return console.log("click")}},props);return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(semantic_ui_react__WEBPACK_IMPORTED_MODULE_1__.Button,Object.assign({primary:!0},buttonProps))}Button.__docgenInfo={description:"",methods:[],displayName:"Button"},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src\\components\\Button\\Button.js"]={name:"Button",docgenInfo:Button.__docgenInfo,path:"src\\components\\Button\\Button.js"})},582:function(module,__webpack_exports__,__webpack_require__){"use strict";var babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(111),babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0__),react__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(0),react__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__),icgc_js_common__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(86),prop_types__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(2),prop_types__WEBPACK_IMPORTED_MODULE_3___default=__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_3__),mapbox_gl__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(583),mapbox_gl__WEBPACK_IMPORTED_MODULE_4___default=__webpack_require__.n(mapbox_gl__WEBPACK_IMPORTED_MODULE_4__),_createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}();function _asyncToGenerator(fn){return function(){var gen=fn.apply(this,arguments);return new Promise(function(resolve,reject){return function step(key,arg){try{var info=gen[key](arg),value=info.value}catch(error){return void reject(error)}if(!info.done)return Promise.resolve(value).then(function(value){step("next",value)},function(err){step("throw",err)});resolve(value)}("next")})}}var Map=function(_React$Component){function Map(props){!function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,Map);var _this=function(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}(this,(Map.__proto__||Object.getPrototypeOf(Map)).call(this,props));_this.container=""+Date.now();var options=Object.assign({container:_this.container},_this.props.options);return _this.map=new icgc_js_common__WEBPACK_IMPORTED_MODULE_2__.a(mapbox_gl__WEBPACK_IMPORTED_MODULE_4___default.a,_this.props.mapboxToken||"",options),_this}return function(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}(Map,react__WEBPACK_IMPORTED_MODULE_1___default.a.Component),_createClass(Map,[{key:"componentDidMount",value:function(){var _ref=_asyncToGenerator(babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.mark(function _callee(){return babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.wrap(function(_context){for(;;)switch(_context.prev=_context.next){case 0:return _context.next=2,this.map.create();case 2:this.props.mapData&&this.setData(this.props.mapData),this.props.showAttribution&&this.map.addControlMap(icgc_js_common__WEBPACK_IMPORTED_MODULE_2__.a.ATTRIBUTION_CONTROL);case 4:case"end":return _context.stop()}},_callee,this)}));return function(){return _ref.apply(this,arguments)}}()},{key:"componentDidUpdate",value:function(prevProps){prevProps.options.style!==this.props.options.style?this.refreshStyleMap():(this.updateSources(this.props.mapData.sources,prevProps.mapData.sources),this.updateLayers(this.props.mapData.layers,prevProps.mapData.layers))}},{key:"componentWillUnmount",value:function(){this.map.remove()}},{key:"updateSources",value:function(currentSources,prevSources){var _this2=this,newSources=icgc_js_common__WEBPACK_IMPORTED_MODULE_2__.b.arrayDifference(currentSources,prevSources),deletedSources=icgc_js_common__WEBPACK_IMPORTED_MODULE_2__.b.arrayDifference(prevSources,currentSources);newSources.forEach(function(source){_this2.map.addSource(source.name,source)}),deletedSources.forEach(function(source){_this2.map.removeSource(source.name)})}},{key:"updateLayers",value:function(currentLayers,prevLayers){var _this3=this,layersToAdd=icgc_js_common__WEBPACK_IMPORTED_MODULE_2__.b.arrayDifference(currentLayers,prevLayers),layersToDelete=icgc_js_common__WEBPACK_IMPORTED_MODULE_2__.b.arrayDifference(prevLayers,currentLayers),layersToUpdate=icgc_js_common__WEBPACK_IMPORTED_MODULE_2__.b.arrayDifference(currentLayers,layersToAdd);layersToAdd.forEach(function(layer){_this3.map.addLayer(layer)}),layersToDelete.forEach(function(layer){_this3.map.removeLayer(layer.id)}),layersToUpdate.forEach(function(layer){_this3.updateLayerPaintProperties(layer.id,layer.paint),_this3.updateLayerLayoutProperties(layer.id,layer.layout)})}},{key:"updateLayerPaintProperties",value:function(layerId,paintProps){var _iteratorNormalCompletion=!0,_didIteratorError=!1,_iteratorError=void 0;try{for(var _step,_iterator=paintProps[Symbol.iterator]();!(_iteratorNormalCompletion=(_step=_iterator.next()).done);_iteratorNormalCompletion=!0){var prop=_step.value;this.map.setPaintProperty(layerId,prop,paintProps[prop])}}catch(err){_didIteratorError=!0,_iteratorError=err}finally{try{!_iteratorNormalCompletion&&_iterator.return&&_iterator.return()}finally{if(_didIteratorError)throw _iteratorError}}}},{key:"updateLayerLayoutProperties",value:function(layerId,layoutProps){var _iteratorNormalCompletion2=!0,_didIteratorError2=!1,_iteratorError2=void 0;try{for(var _step2,_iterator2=layoutProps[Symbol.iterator]();!(_iteratorNormalCompletion2=(_step2=_iterator2.next()).done);_iteratorNormalCompletion2=!0){var prop=_step2.value;this.map.setLayoutProperty(layerId,prop,layerId[prop])}}catch(err){_didIteratorError2=!0,_iteratorError2=err}finally{try{!_iteratorNormalCompletion2&&_iterator2.return&&_iterator2.return()}finally{if(_didIteratorError2)throw _iteratorError2}}}},{key:"refreshStyleMap",value:function(){var _ref2=_asyncToGenerator(babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.mark(function _callee2(){return babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.wrap(function(_context2){for(;;)switch(_context2.prev=_context2.next){case 0:return _context2.next=2,this.map.setMapBaseLayer(this.props.options.style);case 2:this.setData(this.props.mapData);case 3:case"end":return _context2.stop()}},_callee2,this)}));return function(){return _ref2.apply(this,arguments)}}()},{key:"setData",value:function(data){this.map.setData(data),this.addEventsToLayers()}},{key:"addEventsToLayers",value:function(){var _this4=this;this.props.layerEvents&&this.props.layerEvents.forEach(function(eventData){return _this4.map.subscribe(eventData.event,eventData.layerId,eventData.subscriber)})}},{key:"render",value:function(){return react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("div",{id:this.container,className:{width:"100%",height:"100%"}})}}]),Map}();__webpack_exports__.a=Map,Map.propTypes={options:prop_types__WEBPACK_IMPORTED_MODULE_3___default.a.object,container:prop_types__WEBPACK_IMPORTED_MODULE_3___default.a.string,mapboxToken:prop_types__WEBPACK_IMPORTED_MODULE_3___default.a.string,mapData:prop_types__WEBPACK_IMPORTED_MODULE_3___default.a.object,showAttribution:prop_types__WEBPACK_IMPORTED_MODULE_3___default.a.bool,layerEvents:prop_types__WEBPACK_IMPORTED_MODULE_3___default.a.array},Map.__docgenInfo={description:"",methods:[{name:"updateSources",docblock:null,modifiers:[],params:[{name:"currentSources",type:null},{name:"prevSources",type:null}],returns:null},{name:"updateLayers",docblock:null,modifiers:[],params:[{name:"currentLayers",type:null},{name:"prevLayers",type:null}],returns:null},{name:"updateLayerPaintProperties",docblock:null,modifiers:[],params:[{name:"layerId",type:null},{name:"paintProps",type:{name:"Object",alias:"Object"}}],returns:null},{name:"updateLayerLayoutProperties",docblock:null,modifiers:[],params:[{name:"layerId",type:null},{name:"layoutProps",type:{name:"Object",alias:"Object"}}],returns:null},{name:"refreshStyleMap",docblock:null,modifiers:["async"],params:[],returns:null},{name:"setData",docblock:null,modifiers:[],params:[{name:"data",type:null}],returns:null},{name:"addEventsToLayers",docblock:null,modifiers:[],params:[],returns:null}],displayName:"Map",props:{options:{type:{name:"object"},required:!1,description:""},container:{type:{name:"string"},required:!1,description:""},mapboxToken:{type:{name:"string"},required:!1,description:""},mapData:{type:{name:"object"},required:!1,description:""},showAttribution:{type:{name:"bool"},required:!1,description:""},layerEvents:{type:{name:"array"},required:!1,description:""}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src\\components\\Map\\Map.js"]={name:"Map",docgenInfo:Map.__docgenInfo,path:"src\\components\\Map\\Map.js"})},584:function(module,__webpack_exports__,__webpack_require__){"use strict";var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(0),react__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__),semantic_ui_react__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(126),prop_types__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(2),prop_types__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_2__),_NavButtons_css__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(585),_NavButtons_css__WEBPACK_IMPORTED_MODULE_3___default=__webpack_require__.n(_NavButtons_css__WEBPACK_IMPORTED_MODULE_3__),_createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}();var NavButtons=function(_Component){function NavButtons(){return function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,NavButtons),function(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}(this,(NavButtons.__proto__||Object.getPrototypeOf(NavButtons)).apply(this,arguments))}return function(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}(NavButtons,react__WEBPACK_IMPORTED_MODULE_0__["Component"]),_createClass(NavButtons,[{key:"render",value:function(){return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(semantic_ui_react__WEBPACK_IMPORTED_MODULE_1__.Button.Group,{className:_NavButtons_css__WEBPACK_IMPORTED_MODULE_3___default.a.myNavButtons},react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(semantic_ui_react__WEBPACK_IMPORTED_MODULE_1__.Button,{basic:!0,color:this.props.color?this.props.color:"yellow",disabled:this.props.disabledPrev,floated:"left",labelPosition:"left",icon:"left chevron",content:"Anterior",onClick:this.props.goPrevStep}),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(semantic_ui_react__WEBPACK_IMPORTED_MODULE_1__.Button,{color:this.props.color?this.props.color:"yellow",disabled:this.props.disabledNext,floated:"right",labelPosition:"right",icon:"right chevron",content:"Següent",onClick:this.props.goNextStep}))}}]),NavButtons}();__webpack_exports__.a=NavButtons,NavButtons.propTypes={goPrevStep:prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.func,goNextStep:prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.func,disabledPrev:prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.bool,disabledNext:prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.bool,color:prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.string},NavButtons.__docgenInfo={description:"",methods:[],displayName:"NavButtons",props:{goPrevStep:{type:{name:"func"},required:!1,description:""},goNextStep:{type:{name:"func"},required:!1,description:""},disabledPrev:{type:{name:"bool"},required:!1,description:""},disabledNext:{type:{name:"bool"},required:!1,description:""},color:{type:{name:"string"},required:!1,description:""}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src\\components\\NavButtons\\NavButtons.js"]={name:"NavButtons",docgenInfo:NavButtons.__docgenInfo,path:"src\\components\\NavButtons\\NavButtons.js"})},585:function(module,exports,__webpack_require__){var content=__webpack_require__(1230);"string"==typeof content&&(content=[[module.i,content,""]]);var options={hmr:!0,transform:void 0,insertInto:void 0};__webpack_require__(578)(content,options);content.locals&&(module.exports=content.locals)},586:function(module,exports,__webpack_require__){__webpack_require__(587),__webpack_require__(660),module.exports=__webpack_require__(661)},661:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),function(module){var _storybook_react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(125);Object(_storybook_react__WEBPACK_IMPORTED_MODULE_0__.configure)(function(){__webpack_require__(760)},module)}.call(this,__webpack_require__(336)(module))},760:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),function(module){var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(0),react__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__),_storybook_react__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(125),_storybook_addon_info__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(219),_components_Map_Map__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(582),_components_Button_Button__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(220),_components_NavButtons_NavButtons__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(584);__webpack_require__(1232);Object(_storybook_react__WEBPACK_IMPORTED_MODULE_1__.storiesOf)("Button",module).addDecorator(_storybook_addon_info__WEBPACK_IMPORTED_MODULE_2__.withInfo).add("Ok button",function(){return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_components_Button_Button__WEBPACK_IMPORTED_MODULE_4__.a,{content:"OK"})}).add("Icon button",function(){return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_components_Button_Button__WEBPACK_IMPORTED_MODULE_4__.a,{icon:"sign-in"})}).add("Cancel button",function(){return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_components_Button_Button__WEBPACK_IMPORTED_MODULE_4__.a,{color:"red",content:"Cancel"})}),Object(_storybook_react__WEBPACK_IMPORTED_MODULE_1__.storiesOf)("NavButtons",module).addDecorator(_storybook_addon_info__WEBPACK_IMPORTED_MODULE_2__.withInfo).add("Anterior i Seguent",function(){return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_components_NavButtons_NavButtons__WEBPACK_IMPORTED_MODULE_5__.a,{color:"teal",goPrevStep:function(){return console.log("goPrevStep")},goNextStep:function(){return console.log("goPrevStep")},content:"OK"})}),Object(_storybook_react__WEBPACK_IMPORTED_MODULE_1__.storiesOf)("Map",module).addDecorator(_storybook_addon_info__WEBPACK_IMPORTED_MODULE_2__.withInfo).add("Afegir Mapa",function(){return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_components_Map_Map__WEBPACK_IMPORTED_MODULE_3__.a,{style:{width:"100%",height:"100vh"}})},{info:{text:"Cal afegir l'import de mapbox-gl.css"}})}.call(this,__webpack_require__(336)(module))},763:function(module,exports,__webpack_require__){var map={"./nestedObjectAssign":377,"./nestedObjectAssign.js":377};function webpackContext(req){var id=webpackContextResolve(req);return __webpack_require__(id)}function webpackContextResolve(req){var id=map[req];if(!(id+1)){var e=new Error("Cannot find module '"+req+"'");throw e.code="MODULE_NOT_FOUND",e}return id}webpackContext.keys=function(){return Object.keys(map)},webpackContext.resolve=webpackContextResolve,module.exports=webpackContext,webpackContext.id=763}},[[586,1,2]]]);
//# sourceMappingURL=main.eee789ee5f2db348f895.bundle.js.map